<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../User_Guide.ent">
%BOOK_ENTITIES;
]>

<section id="ratype_ra_interface">

	<title>Resource Adaptor Interface</title>

	<para>
		The MAP Resource Adaptor SBB Interface provides SBBs with
		access to the MAP objects required for creating a new, aborting, ending a MAPdialog and
		sending USSD Request/Response. It is defined as follows:
	</para>
	
	<programlisting language="java">
package org.mobicents.protocols.ss7.map.api;


public interface MAPProvider {

	 public abstract void addMAPDialogListener(MAPDialogListener mapdialoglistener);

    public abstract void removeMAPDialogListener(MAPDialogListener mapdialoglistener);

    public abstract MapServiceFactory getMapServiceFactory();

    public abstract MAPErrorMessageFactory getMAPErrorMessageFactory();

    public abstract MAPDialog getMAPDialog(Long long1);

    public abstract MAPServiceSupplementary getMAPServiceSupplementary();

    public abstract MAPServiceSms getMAPServiceSms();

    public abstract MAPServiceLsm getMAPServiceLsm();

}
	
	</programlisting>
	<variablelist>
		<varlistentry>
			<term> public abstract void addMAPDialogListener(MAPDialogListener mapdialoglistener);</term>
			<listitem>
				<para>this method is not supported. Call to it causes NotSupportedException to be thrown.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract void removeMAPDialogListener(MAPDialogListener mapdialoglistener);</term>
			<listitem>
				<para>this method is not supported. Call to it causes NotSupportedException to be thrown.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MapServiceFactory getMapServiceFactory();</term>
			<listitem>
				<para>retrieves factory for generic MAP components(interface name is missleading, will be changed in CR1)</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MAPErrorMessageFactory getMAPErrorMessageFactory();</term>
			<listitem>
				<para>retrieves implementation of MAP error message factory. Error messages are used to indicate erroneous conditions.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MAPDialog getMAPDialog(Long dialogId);</term>
			<listitem>
				<para>retrieves active dialog by its <literal>ID</literal>. </para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MAPServiceSupplementary getMAPServiceSupplementary();</term>
			<listitem>
				<para>retrieves MAP sumplementary service. It is used to create USSD dialogs.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MAPServiceSms getMAPServiceSms();</term>
			<listitem>
				<para>retrieves MAP SMS service. It is used to create SMS dialogs. In current release it is not supported.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>public abstract MAPServiceLsm getMAPServiceLsm();</term>
			<listitem>
				<para>retrieves MAP LMS service. It is used to create LMS dialogs. In current release it is not supported.</para>
			</listitem>
		</varlistentry>
		
	</variablelist>
	<note>
		<para>As MAP stack is beeing completed, it will support more services, this list of <literal>getMAPServiceX</literal> will expand to support all implemented services.</para>
	</note>
</section>
